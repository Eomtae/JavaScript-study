<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
  </head>
  <body>
    <!-- for.html -->

    <article class="ex1">
      <h2>1부터 100까지 출력하시오.<button>출력</button></h2>
      <div></div>
    </article>

    <article class="ex2">
      <h2>1에서 100까지 수 중에서 짝수를 출력하시오.<button>출력</button></h2>
      <div></div>
    </article>

    <article class="ex3">
      <h2>
        1에서 100까지 수 중에서 끝자리가 3,6,9를 찾아 출력하시오.<button>
          출력
        </button>
      </h2>
      <div></div>
    </article>

    <script>
      const elEx1 = document.querySelector(".ex1 div"),
        elEx2 = document.querySelector(".ex2 div"),
        elEx3 = document.querySelector(".ex3 div");
      elbtn = document.querySelectorAll("button");

      let result = []; // 전체 영역 변수 -> 전역변수
      //   result[0]=1;
      // result.push(1);
      function numFun() {
        result = [];
        for (let i = 1; i <= 100; i++) {
          // 지역변수
          result.push(i);
        }
        elEx1.textContent = result;
      }
      //짝수
      function numEven() {
        result = [];
        for (let i = 1; i <= 100; i++) {
          if (i % 2 == 0) {
            result.push(i);
          }
        }

        elEx2.textContent = result;
      }

      //3,6,9
      function num369() {
        result = [];
        for (let i = 1; i <= 100; i++) {
          if ((i % 10) % 3 == 0 && i % 10 != 0) {
            result.push(i);
          }
        }

        elEx3.textContent = result;
      }

      // elbtn[0].onclick = numFun;
      // elbtn[0].onclick=numFun() //괄호를 넣게 되면 버튼 필요 없이 바로 출력
      // elbtn[1].onclick = numEven;
      // elbtn[2].onclick = num369;
      // 0 : button;
      // 1 : button;
      // 2 : button;

      elbtn.forEach(function (btn, key, all) {
        //셀렉터,키값,전체셀렉터 순서 ( 매개변수 - 중괄호 영역 안에서만 사용 가능/ 이 안에서만 사용 후 버려짐)

        elbtn[0].onclick = function () {
                        {
                          {
                              if(key==0){
                            btn.onclick = numFun;
                        }else if(key==1){
                          btn.onclick = numEven;
                        }else if(key==2){
                          btn.onclick = num369;
                }
              }
          }
          key : 0,1,2
          switch (key) {
            case 0:
              numFun(); break;
            case 1:
              numEven(); break;
            case 2:
              num369();
          }
        };
      });
    </script>

    <article class="gugu">
      <h2>구구단</h2>
      <div>
   
      </div>
      <button data-num="2">2단 출력</button>
      <button data-num="3">3단 출력</button>
      <button data-num="4">4단 출력</button>
      <button data-num="24">24단 출력</button>
    </article>

    <script>
        const elGugu = document.querySelector('.gugu > div');
        const elBtnGugu = document.querySelectorAll('.gugu > button');
        // elGugu.innerHTML += 출력변수;

       
        let gugu='';

           function guguFun(n){
            gugu='';
        for(i=1; i < 10; i++){
            // guguvalue = 2 * i;
           
            gugu += `${n} x ${i}= ${n*i} <br>`; //2*i 대신 guguvalue도 가능
            
            elGugu.innerHTML  = gugu;
            }
        }

      elBtnGugu.forEach(function(btn,key){
        btn.onclick = function(){
          let num = btn.dataset.num //data-num으로 지정한 값을 switch를 쓰지않고 불러오는법
          guguFun(num);

        // console.log(btn.dataset)//btn의 사용자 속성확인




          // switch(key){
          //   case 0 : guguFun(2); break;
          //   case 1 : guguFun(3); break;
          // }
        };
      });
      
     





       
    </script>

    <article class="all-gugu">
      <h2>2~9단까지 구구단 출력</h2>
      <div>
        <!-- <p>2단</p>
        <p>3단</p>
        <p>4단</p>
        <p>5단</p>
        <p>6단</p>
        <p>7단</p>
        <p>8단</p>
        <p>9단</p> -->
      </div>
      <style>
        .all-gugu div{
          display: flex;
          flex-wrap: wrap;
        }
        .all-gugu p{
          border: solid 2px #000; margin: 3%; padding:3%;
        }
      </style>
    </article>

    <script>
      const elAllGugu=document.querySelector('.all-gugu div');
      let guguTag = '';
      //전체 구구단
      for(let i=2; i<=9; i++){
        //개별 구구단 1~9
        guguTag +='<p>';
        for(let j=1;j<=9; j++){
        guguTag += `${i} x ${j} = ${i * j} <br>`;
      }
        guguTag += '</p>';
      }
      elAllGugu.innerHTML = guguTag;

      // elAllGugu.innerHTML = 올구구단출력;
    </script>

    <article class="self">
      <h2>자판기</h2>
      <div>
        <p class="price">1000원</p>
        <p class="btn">
          <button data-price="300">우유(300원)</button>
          <button data-price="400">율무차(400원)</button>
          <button data-price="600">블랙커피(600원)</button>
          <button>초기화</button>
        </p>
        <p> 조건 ) 총금액 1000원 
            -> 원하는 커피 2~3잔을 선택
            -> 선택시 총금액에서 커피값을 빼주세요
            -> 잔액 부족 시 메세지 출력(잔액이 부족합니다.)
            -> 초기버튼 클릭 시 다시 시작! </p>
      </div>

      <style>
        .self{
          width:400px;
          margin:100px auto;
          border: solid 2px green;
          padding:40px;
          text-align: center;
        }
        .price{
          background-color:#000; 
          padding:10px 0;
          color:yellow;
        }
        .btn{
          background-color: #ddd;
          padding:20px 0;
        }
        .btn button:last-child{
          background: red;
          color:#fff;
        }
        .self p:last-child{
          white-space: pre-line;
          text-align: left;
          line-height: 2;
        }
      </style>
    </article>


    <script>
      // 버튼 -> 반복문을 활용해서 클릭이벤트 발생
      //      -> 초기화버튼일 때(총금액 1000으로 설정)
      // 총금액(함수활용) -> 커피버튼을 누를 때 마다 연산해서 화면에 출력
          //-> 커피값(dataset.price)
          //  -> 금액 부족 시 메세지 출력(if문 활용)
          //  -> 메세지 = alert('금액이 부족합니다.')


          const elSelf = document.querySelector('.price');
          const elBtns = document.querySelectorAll('.btn button');
          let allPrice = 1000;

          elBtns.forEach(function(btn,key){
          btn.onclick= function(){
            allPrice = allPrice - btn.dataset.price;
            elSelf.innerHTML=allPrice;
            //Number(el.dataset.price); 문자에서 숫자로 형변
            if(allPrice < 0){
              alert('금액이 부족합니다.');
              allPrice=1000;
              // return; 
              elSelf.textContent=`${allPrice}원`;
            }
            if(key==3 ){
              allPrice=1000;
              elSelf.textContent=`${allPrice}원`;
            }
          }
         });

        // 이것도 가능!     
        //   if(k==3){
        //   allPrice = 1000;
          
        //  }else{
        //   allPrice=allPrice-btn.dataset.price; // allPrice-=btn.dataset.price??
        //  }
        //  elSelf.textContent=allPrice;
           
        //  ****  - * / 는 문자열도 가능. 다만 +는 연산불가

        //이것들을 함수화 function(){
        //   안에 coffee라고 지정을 한 후 
        //   coffee(key,Number(btn.dataset.price));치면 함수화
        // }
        
         
        
      
    </script>
  </body>
</html>
